# 品味程序

- 函数长，看不下去。
- 逻辑不清晰，不知道逻辑的分界线在哪里，在做什么？
- for 循环太过庞大，庞大的 for 占据了函数的一大半。

# 重构思路

1. 分解 for 循环，简化函数。  
    -> 发现 for 循环中， switch 分支可单独拆成函数，拆成 calculateAmount(xxx)。
2. 取代变量，用查询取代临时变量，简化函数参数。

# 结论

1. 分解关注点，函数只关注做一件事。
